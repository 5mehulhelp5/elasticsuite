<fieldset class="admin__fieldset">
    <div class="admin__field">
        <label class="admin__field-label" for="optimizer-preview-query-text">
            <span data-bind="i18n: 'Search Query'"></span>
        </label>
        <div class="admin__field-control _with-tooltip">
            <input name="queryText" data-bind="value: queryText" id="optimizer-preview-query-text" class="input-text admin__control-text" type="text"/>
            <div class="admin__field-tooltip" style="margin-top:0;">
                <button id="add_new_option_button"
                        data-bind="{ click : refreshProductList, attr: { title: $t('Preview') }}"
                        type="button" class="action- scalable add primary">
                    <span data-bind="i18n: 'Preview'"></span>
                </button>
            </div>
        </div>
    </div>

    <div class="elasticsuite-admin-product-sorter elasticsuite-optimizer-preview">
        <div data-bind="if: hasProducts()">

            <div class="product-list-container">
                <div class="product-list-title">
                    <h1><span data-bind="i18n: 'Base Results'"></span></h1>
                </div>
                <ul data-bind="foreach: baseProducts" class="product-list">
                    <li class="product-list-item" data-bind="
                        attr: {'data-product-id': getId()},
                    ">
                        <h1><span data-bind="html: getName()"></span></h1>

                        <div class="score-container">
                            <p>
                                <span class="score-label" data-bind="text: getScoreLabel()"></span>
                                <span data-bind="text: getScore()"></span>
                            </p>
                        </div>

                        <div class="product-image"><img data-bind="attr: { src: getImageUrl() }" /></div>

                        <div class="info">
                            <p class="price" data-bind="text: getFormattedPrice()"></p>
                            <p class="stock" data-bind="text: getStockLabel()"></p>
                        </div>

                    </li>
                </ul>
            </div>

            <div class="product-list-container">
                <div class="product-list-title">
                    <h1><span data-bind="i18n: 'Optimized Results'"></span></h1>
                </div>
                <ul data-bind="foreach: optimizedProducts" class="product-list">
                    <li class="product-list-item" data-bind="
                        attr: {'data-product-id': getId()},
                    ">
                        <h1><span data-bind="html: getName()"></span></h1>

                        <div class="score-container">
                            <p>
                                <span class="score-label" data-bind="text: getScoreLabel()"></span>
                                <span data-bind="text: getScore()"></span>
                            </p>
                            <span class="effect" data-bind="css: getEffectClass()"></span>
                        </div>


                        <div class="product-image"><img data-bind="attr: { src: getImageUrl() }" /></div>

                        <div class="info">
                            <p class="price" data-bind="text: getFormattedPrice()"></p>
                            <p class="stock" data-bind="text: getStockLabel()"></p>
                        </div>

                    </li>
                </ul>
            </div>
            <p class="bottom-links" data-bind="visible: hasMoreProducts()">
                <a href="#" data-bind="click: showMoreProducts, text: messages.showMore" class="show-more-link"></a>
            </p>
        </div>
    </div>
</fieldset>
